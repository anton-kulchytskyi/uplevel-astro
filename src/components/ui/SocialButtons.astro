---
import socialData from '@/data/links.json';
import Instagram from '../icons/Instagram.astro';
import Phone from '../icons/Phone.astro';
import Mail from '../icons/Mail.astro';
import Facebook from '../icons/Facebook.astro';

const ICONS = {
  Phone,
  Mail,
  Instagram,
  Facebook,
};

function isValidIcon(key: string): key is keyof typeof ICONS {
  return key in ICONS;
}
---

<div class="social-media-container">
  {
    socialData.social.map((item) => {
      if (isValidIcon(item.icon)) {
        const IconComponent = ICONS[item.icon];
        return (
          <a
            href={item.url}
            target="_blank"
            rel="noopener noreferrer"
            class="social-icon-container"
            aria-label={item.platform}
          >
            <IconComponent class="social-icon" />
          </a>
        );
      }
      return null;
    })
  }
</div>

<style>
  .social-media-container {
    display: flex;
    flex-wrap: wrap;
    justify-content: center;
    align-items: center;
    gap: 2rem;
    padding: 1rem;
  }

  .social-icon-container {
    position: relative;
    display: flex;
    align-items: center;
    justify-content: center;
    width: 50px;
    height: 50px;
    color: #ffffff;
    border-radius: 15px;
    border: 1px solid rgba(15, 63, 143, 0.4);
    text-decoration: none;
    transition: all 0.4s cubic-bezier(0.175, 0.885, 0.32, 1.275);
    overflow: hidden;
    background: rgba(255, 255, 255, 0.05);
    border-radius: 20px;
    backdrop-filter: blur(10px);
    box-shadow:
      0 8px 32px rgba(0, 0, 0, 0.3),
      inset 0 1px 0 rgba(255, 255, 255, 0.2);
  }

  .social-icon-container::before {
    content: '';
    position: absolute;
    top: 0;
    left: -100%;
    width: 100%;
    height: 100%;
    background: linear-gradient(
      90deg,
      transparent,
      rgba(255, 255, 255, 0.4),
      transparent
    );
    transition: left 0.6s ease;
  }

  .social-icon-container:hover::before {
    left: 100%;
  }

  .social-icon-container:hover {
    transform: translateY(-8px) scale(1.1);
    background: linear-gradient(
      145deg,
      rgba(15, 63, 143, 0.8),
      rgba(15, 63, 143, 0.6)
    );
    box-shadow:
      0 15px 35px rgba(15, 63, 143, 0.4),
      0 5px 15px rgba(0, 0, 0, 0.3),
      inset 0 1px 0 rgba(255, 255, 255, 0.3);
  }

  .social-icon {
    transition: all 0.3s ease;
    position: relative;
    z-index: 1;
    filter: drop-shadow(0 2px 4px rgba(0, 0, 0, 0.3));
  }

  .social-icon-container:hover .social-icon {
    color: #ffffff;
    filter: drop-shadow(0 0 8px rgba(255, 255, 255, 0.5));
  }
</style>
